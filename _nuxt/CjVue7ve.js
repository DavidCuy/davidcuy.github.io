import{c as h,aV as ee,aW as te,aX as oe,aY as S,aZ as se,b as x,r as I,o as f,a0 as D,e as r,a_ as ne,a$ as F,aC as re,W as U,b0 as ae,$ as j,x as $,i as m,q as T,w as y,ao as M,a6 as v,ad as N,a4 as B,a5 as w,m as E,P as G,y as ie,b1 as le,d as ce,b2 as ue,aA as q,aF as de,b3 as pe,l as me,aG as fe,aK as ge,aH as Pe,aD as _e,a7 as he,b4 as ve,aB as R,aI as ye,b5 as be}from"#entry";import{_ as Ce}from"./CvKwLixe.js";import{h as H,M as De}from"./DFL1QRBx.js";import"./iik6CYzq.js";function W(n,s,t=0){const u={title:"label",path:"to"},e=Object.keys(n).reduce((c,d)=>{if(n[d]){const V=u[d]||d;c[V]=n[d]}return c},{});return Array.isArray(n.children)?e.children=n.children.map(c=>W(c,s,t+1)):e.children=[],e}function xe(n,s){return n.map(t=>W(t,s))}const z=["ProseADVue","ProseA","ProseAccordionDVue","ProseAccordion","ProseAccordionItemDVue","ProseAccordionItem","ProseBadgeDVue","ProseBadge","ProseBlockquoteDVue","ProseBlockquote","ProseCalloutDVue","ProseCallout","ProseCardDVue","ProseCard","ProseCardGroupDVue","ProseCardGroup","ProseCodeDVue","ProseCode","ProseCodeCollapseDVue","ProseCodeCollapse","ProseCodeGroupDVue","ProseCodeGroup","ProseCodeIconDVue","ProseCodeIcon","ProseCodePreviewDVue","ProseCodePreview","ProseCodeTreeDVue","ProseCodeTree","ProseCollapsibleDVue","ProseCollapsible","ProseEmDVue","ProseEm","ProseFieldDVue","ProseField","ProseFieldGroupDVue","ProseFieldGroup","ProseH1DVue","ProseH1","ProseH2DVue","ProseH2","ProseH3DVue","ProseH3","ProseH4DVue","ProseH4","ProseHrDVue","ProseHr","ProseIconDVue","ProseIcon","ProseImgDVue","ProseImg","ProseKbdDVue","ProseKbd","ProseLiDVue","ProseLi","ProseOlDVue","ProseOl","ProsePDVue","ProseP","ProsePreDVue","ProsePre","ProseScriptDVue","ProseScript","ProseStepsDVue","ProseSteps","ProseStrongDVue","ProseStrong","ProseTableDVue","ProseTable","ProseTabsDVue","ProseTabs","ProseTabsItemDVue","ProseTabsItem","ProseTbodyDVue","ProseTbody","ProseTdDVue","ProseTd","ProseThDVue","ProseTh","ProseTheadDVue","ProseThead","ProseTrDVue","ProseTr","ProseUlDVue","ProseUl","ProseCautionDVue","ProseCaution","ProseNoteDVue","ProseNote","ProseTipDVue","ProseTip","ProseWarningDVue","ProseWarning","ProseH5","ProseH6","Icon"],K=[],Ve=Object.freeze(Object.defineProperty({__proto__:null,globalComponents:z,localComponents:K},Symbol.toStringTag,{value:"Module"})),ke={__name:"ContentRenderer",props:{value:{type:Object,required:!0},excerpt:{type:Boolean,default:!1},tag:{type:String,default:"div"},components:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},prose:{type:Boolean,default:void 0},class:{type:[String,Object],default:void 0},unwrap:{type:[Boolean,String],default:!1}},setup(n){const s=["render","ssrRender","__ssrInlineRender"],t=n,u=!1,e=h(()=>{let o=t.value.body||t.value;return t.excerpt&&t.value.excerpt&&(o=t.value.excerpt),o.type==="minimal"||o.type==="minimark"?ee({value:o.value}):o}),c=h(()=>!e.value?.children?.length),d=h(()=>{const{body:o,excerpt:i,...l}=t.value;return{...l,...t.data}}),V=Object.fromEntries(["p","a","blockquote","code","pre","code","em","h1","h2","h3","h4","h5","h6","hr","img","ul","ol","li","strong","table","thead","tbody","td","th","tr","script"].map(o=>[o,`prose-${o}`])),{mdc:a}=te().public||{},k=h(()=>({...a?.components?.prose&&t.prose!==!1?V:{},...a?.components?.map||{},...oe(t.data?.mdc?.components||{}),...t.components})),C=h(()=>e.value?L(e.value,{tags:k.value}):{});function A(o){let i=o;if(typeof o=="string"){if(H.includes(o))return o;if(z.includes(S(o))?i=ne(o,!1):K.includes(S(o))&&(i=F(()=>re(()=>Promise.resolve().then(()=>Ve),void 0,import.meta.url).then(g=>{const P=g[S(o)];return P?P():void 0}))),typeof i=="string")return i}if(!i)return i;const l=i;return"__asyncLoader"in l?l:"setup"in l?F(()=>Promise.resolve(l)):l}function L(o,i){if(!o)return;const l=Array.from(new Set(p(o,i))),_={};for(const[g,P]of l)if(!_[g]){if(typeof P=="object"&&s.some(O=>Object.hasOwnProperty.call(P,O))){_[g]=P;continue}_[g]=A(P)}return _}function p(o,i){const l=o.tag;if(o.type==="text"||l==="binding"||o.type==="comment")return[];const _=b(o,i.tags),g=[];o.type!=="root"&&!H.includes(_)&&g.push([l,_]);for(const P of o.children||[])g.push(...p(P,i));return g}function b(o,i){const l=o.tag;return!l||typeof o.props?.__ignoreMap<"u"?l:i[l]||i[S(l)]||i[se(o.tag)]||l}return(o,i)=>c.value?I(o.$slots,"empty",{key:1,body:e.value,data:d.value,dataContentId:r(u)?n.value.id:void 0}):(f(),x(De,{key:0,body:e.value,data:d.value,class:D(t.class),tag:t.tag,prose:t.prose,unwrap:t.unwrap,components:C.value,"data-content-id":r(u)?n.value.id:void 0},null,8,["body","data","class","tag","prose","unwrap","components","data-content-id"]))}},Te={slots:{root:"grid grid-cols-1 sm:grid-cols-2 gap-8",link:["group block px-6 py-8 rounded-lg border border-default hover:bg-elevated/50 focus-visible:outline-primary","transition-colors"],linkLeading:["inline-flex items-center rounded-full p-1.5 bg-elevated group-hover:bg-primary/10 ring ring-accented mb-4 group-hover:ring-primary/50","transition"],linkLeadingIcon:["size-5 shrink-0 text-highlighted group-hover:text-primary","transition-[color,translate]"],linkTitle:"font-medium text-[15px] text-highlighted mb-1 truncate",linkDescription:"text-sm text-muted line-clamp-2"},variants:{direction:{left:{linkLeadingIcon:["group-active:-translate-x-0.5"]},right:{link:"text-right",linkLeadingIcon:["group-active:translate-x-0.5"]}}}},Ie={key:1,class:"hidden lg:block"},we=Object.assign({inheritAttrs:!1},{__name:"UContentSurround",props:{as:{type:null,required:!1},prevIcon:{type:[String,Object],required:!1},nextIcon:{type:[String,Object],required:!1},surround:{type:Array,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(n){const s=n,t=U(),[u,e]=ae({props:{link:Object,icon:String,direction:String}}),c=h(()=>j({extend:j(Te),...t.ui?.contentSurround||{}})());return(d,V)=>(f(),$(ie,null,[m(r(u),null,{default:y(({link:a,icon:k,direction:C})=>[a?(f(),x(M,{key:0,to:a.path,raw:"",class:D(c.value.link({class:[s.ui?.link,a.ui?.link,a.class],direction:C}))},{default:y(()=>[I(d.$slots,"link",{link:a},()=>[v("div",{class:D(c.value.linkLeading({class:[s.ui?.linkLeading,a.ui?.linkLeading]}))},[I(d.$slots,"link-leading",{link:a},()=>[m(N,{name:a.icon||k,class:D(c.value.linkLeadingIcon({class:[s.ui?.linkLeadingIcon,a.ui?.linkLeadingIcon],direction:C}))},null,8,["name","class"])])],2),v("p",{class:D(c.value.linkTitle({class:[s.ui?.linkTitle,a.ui?.linkTitle]}))},[I(d.$slots,"link-title",{link:a},()=>[B(w(a.title),1)])],2),v("p",{class:D(c.value.linkDescription({class:[s.ui?.linkDescription,a.ui?.linkDescription]}))},[I(d.$slots,"link-description",{link:a},()=>[B(w(a.description),1)])],2)])]),_:2},1032,["to","class"])):(f(),$("span",Ie,"Â "))]),_:3}),n.surround?(f(),x(r(G),E({key:0,as:n.as},d.$attrs,{class:c.value.root({class:[s.ui?.root,s.class]})}),{default:y(()=>[m(r(e),{link:n.surround[0],icon:n.prevIcon||r(t).ui.icons.arrowLeft,direction:"left"},null,8,["link","icon"]),m(r(e),{link:n.surround[1],icon:n.nextIcon||r(t).ui.icons.arrowRight,direction:"right"},null,8,["link","icon"])]),_:1},16,["as","class"])):T("",!0)],64))}}),$e={base:"mt-8 pb-24 space-y-12"},Se={__name:"UPageBody",props:{as:{type:null,required:!1},class:{type:null,required:!1}},setup(n){const s=n,t=U(),u=h(()=>j({extend:j($e),...t.ui?.pageBody||{}}));return(e,c)=>(f(),x(r(G),{as:n.as,class:D(u.value({class:s.class}))},{default:y(()=>[I(e.$slots,"default")]),_:3},8,["as","class"]))}};function je(n,s="Copied to clipboard"){const t=le();navigator.clipboard.writeText(n).then(()=>{t.add({title:s,color:"success",icon:"i-lucide-check-circle"})})}function X(n,s,t){return!n?.length||!s?[]:n.reduce((u,e)=>(s&&(s+"/").startsWith(e.path+"/")&&((s!==e.path||t?.current||t?.indexAsChild)&&u.push(e),e.children&&u.push(...X(e.children.filter(c=>c.path!==e.path||c.path===s&&t?.current&&t?.indexAsChild),s,t))),u),[])}const Ae={class:"flex flex-col gap-3 mt-8"},Le={class:"flex text-xs text-muted items-center justify-center gap-2"},Oe={key:0},Be={key:1},Fe={key:2},qe={class:"text-4xl text-center font-medium max-w-3xl mx-auto mt-4"},Re={class:"text-muted text-center max-w-2xl mx-auto"},He={class:"flex items-center justify-center gap-2 mt-2"},Ue={class:"flex items-center justify-end gap-2 text-sm text-muted"},ze=ce({__name:"[...slug]",async setup(n){let s,t;const u=ue(),{data:e}=([s,t]=q(()=>R(u.path,()=>ye("blog").path(u.path).first(),"$DquttgHoet")),s=await s,t(),s);if(!e.value)throw de({statusCode:404,statusMessage:"Page not found",fatal:!0});const{data:c}=([s,t]=q(()=>R(`${u.path}-surround`,()=>be("blog",u.path,{fields:["description"]}))),s=await s,t(),s),d=pe("navigation",me([])),V=h(()=>d.value.find(p=>p.path==="/blog")?.children||[]),a=h(()=>xe(X(V?.value,e.value?.path)).map(({icon:p,...b})=>b));e.value.image?(e.value.image,void 0):(a.value.map(p=>p.label).join(" > "),void 0);const k=e.value?.seo?.title||e.value?.title,C=e.value?.seo?.description||e.value?.description;fe({title:k,description:C,ogDescription:C,ogTitle:k});const A=h(()=>`${window?.location}`),L=p=>new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return(p,b)=>{const o=N,i=M,l=_e,_=Ce,g=ke,P=he,O=we,Y=Se,Z=Pe,J=ge,Q=ve;return f(),x(Q,{class:"mt-20 px-2"},{default:y(()=>[m(J,{class:"relative min-h-screen"},{default:y(()=>[r(e)?(f(),x(Z,{key:0},{default:y(()=>[m(i,{to:"/blog",class:"text-sm flex items-center gap-1"},{default:y(()=>[m(o,{name:"lucide:chevron-left"}),b[1]||(b[1]=B(" Blog ",-1))]),_:1}),v("div",Ae,[v("div",Le,[r(e).date?(f(),$("span",Oe,w(L(r(e).date)),1)):T("",!0),r(e).date&&r(e).minRead?(f(),$("span",Be," - ")):T("",!0),r(e).minRead?(f(),$("span",Fe,w(r(e).minRead)+" MIN READ ",1)):T("",!0)]),m(l,{src:r(e).image,alt:r(e).title,class:"rounded-lg w-full h-[300px] object-cover object-center"},null,8,["src","alt"]),v("h1",qe,w(r(e).title),1),v("p",Re,w(r(e).description),1),v("div",He,[m(_,E({orientation:"vertical",color:"neutral",variant:"outline",class:"justify-center items-center text-center"},r(e).author),null,16)])]),m(Y,{class:"max-w-3xl mx-auto"},{default:y(()=>[r(e).body?(f(),x(g,{key:0,value:r(e)},null,8,["value"])):T("",!0),v("div",Ue,[m(P,{size:"sm",variant:"link",color:"neutral",label:"Copy link",onClick:b[0]||(b[0]=Me=>("copyToClipboard"in p?p.copyToClipboard:r(je))(r(A),"Article link copied to clipboard"))})]),m(O,{surround:r(c)},null,8,["surround"])]),_:1})]),_:1})):T("",!0)]),_:1})]),_:1})}}});export{ze as default};
